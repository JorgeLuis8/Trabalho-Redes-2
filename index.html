<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Teste de Servidores HTTP</title>
  <style>
    body { font-family: Arial; background: #f7f7f7; margin: 40px; }
    .server-box { border: 2px solid #ccc; border-radius: 10px; padding: 20px; margin: 20px 0; background: white; }
    button { margin: 5px; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
    .seq button { background: #007BFF; color: white; }
    .conc button { background: #28A745; color: white; }
    pre { background: #f0f0f0; padding: 10px; border-radius: 5px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>Testes de Servidores HTTP</h1>

  <div class="server-box seq">
    <h2>Servidor Sequencial (localhost:8080)</h2>
    <button onclick="enviar('GET', '8080')">GET</button>
    <button onclick="enviar('POST', '8080')">POST</button>
    <button onclick="enviar('PUT', '8080')">PUT</button>
    <pre id="res8080"></pre>
  </div>

  <div class="server-box conc">
    <h2>Servidor Concorrente (localhost:8081)</h2>
    <button onclick="enviar('GET', '8081')">GET</button>
    <button onclick="enviar('POST', '8081')">POST</button>
    <button onclick="enviar('PUT', '8081')">PUT</button>
    <pre id="res8081"></pre>
  </div>

  <script>
    async function enviar(metodo, porta) {
      const url = `http://localhost:${porta}/`;
      try {
        const inicio = performance.now();
        const resp = await fetch(url, { method: metodo });
        const texto = await resp.text();
        const fim = performance.now();

        document.getElementById(`res${porta}`).textContent =
          `Método: ${metodo}\nServidor: ${url}\nStatus: ${resp.status} ${resp.statusText}\nTempo: ${(fim - inicio).toFixed(2)}ms\n\nResposta:\n${texto}`;
      } catch (e) {
        document.getElementById(`res${porta}`).textContent = "❌ Erro: " + e.message;
      }
    }
  </script>
</body>
</html>
